server {
  listen 80;
  server_name _;

  # Files are mounted at /srv/assets inside the container
  include /etc/nginx/mime.types;
  default_type application/octet-stream;

  # Basic perf for static video delivery
  sendfile on; aio on; tcp_nopush on;

  # Helpful during dev (UI on another port)
  add_header Access-Control-Allow-Origin *;
  add_header Access-Control-Expose-Headers Content-Length,Content-Range,ETag;

  gzip off;  # never compress mp4/webm

  # Map /videos/<file> -> /srv/assets/<file>
  location /videos/ {
    alias /data/;
    # In prod use long cache + unique filenames; in dev you may prefer no-store
    add_header Cache-Control "public, max-age=31536000, immutable";
    try_files $uri =404;
  }

  location = /healthz { return 200; }
}